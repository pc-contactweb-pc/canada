<html class="no-js" dir="ltr" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<!-- Start Treasury board content -->

<head prefix="og: http://ogp.me/ns#">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta charset="utf-8" />
    <title>Field flow - Filters</title>
    <meta content="width=device-width,initial-scale=1" name="viewport" />
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
    <link rel="canonical" href="" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    <meta name="dcterms.title" content="" />
    <meta name="dcterms.description" content="" />
    <meta name="dcterms.creator" content="" />
    <meta name="dcterms.language" title="ISO639-2/T" content="eng" />
    <meta name="dcterms.issued" title="W3CDTF" content="" />
    <meta name="dcterms.modified" title="W3CDTF" content="" />
    <meta name="dcterms.spatial" content="Canada" />
    <meta name="dcterms.type" content="navigation page - institutional profile" />
    <meta name="dcterms.identifier" content="" />
    <script src="//assets.adobedtm.com/be5dfd287373/abb618326704/launch-3eac5e076135.min.js"></script>
    <link rel="stylesheet" href="https://www.canada.ca/etc/designs/canada/wet-boew/css/theme.min.css" />
    <!-- -------------------------- -->
    <!--	Temp font awesome   -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/9090ff3cfc.js" crossorigin="anonymous"></script>
    <!--	End temp font awesome -->
    <link rel="stylesheet" href="https://pc-contactweb-pc.github.io/canada/pc_custom.css?3"> <!-- PC Custom CSS -->
    <!--<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"/>-->
    <link href="https://www.canada.ca/etc/designs/canada/wet-boew/assets/favicon.ico" rel="icon" type="image/x-icon" />
    <noscript>
        <link rel="stylesheet" href="https://www.canada.ca/etc/designs/canada/wet-boew/css/noscript.min.css" />
    </noscript>
</head>

<body vocab="http://schema.org/" class="" typeof="WebPage" resource="#wb-webpage">
    <nav>
        <ul id="wb-tphp" class=" wb-disable-inited">
            <li class="wb-slc"><a class="wb-sl" href="#wb-cont">Skip to main content</a></li>
            <li class="wb-slc visible-sm visible-md visible-lg"><a class="wb-sl" href="#wb-info">Skip to About this
                    site</a></li>
            <!-- Why is this here-->
            <li class="wb-slc"><a class="wb-sl" href="?wbdisable=true" rel="alternate">Switch to basic HTML version</a>
            </li>
        </ul>
    </nav>
    <!-- End treasury board content -->
    <!-- Start content-en header -->

    <header class="mrgn-tp-xl">
        <div id="wb-bnr" class="container">
            <div class="row">
                <section id="wb-lng" class="col-xs-3 col-sm-12 pull-right text-right">
                    <h2 class="wb-inv">Language selection</h2>
                    <ul class="list-inline mrgn-bttm-0">
                        <li>
                            <a lang="fr" hreflang="fr" href="https://pc-contactweb-pc.github.io/canada/directives-guidance/generic-fr.html">
                                <span class="hidden-xs">Français</span>
                                <abbr title="Français" class="visible-xs h3 mrgn-tp-sm mrgn-bttm-0 text-uppercase">fr</abbr>
                            </a>
                        </li>
                    </ul>
                </section>
                <div class="brand col-xs-9 col-sm-5 col-md-4" property="publisher" typeof="GovernmentOrganization">
                    <div>
                        <img src="https://wet-boew.github.io/themes-dist/GCWeb/GCWeb/assets/sig-blk-en.svg" alt="Government of Canada" property="logo"><span class="wb-inv"> / <span lang="fr">Gouvernement du Canada</span></span>
                    </div>
                    <meta property="name" content="Government of Canada">
                    <meta property="areaServed" typeof="Country" content="Canada">
                    <link property="logo" href="https://wet-boew.github.io/themes-dist/GCWeb/GCWeb/assets/wmms-blk.svg">
                </div>
                <section id="wb-srch" class="col-lg-offset-4 col-md-offset-4 col-sm-offset-2 col-xs-12 col-sm-5 col-md-4">
                    <h2>Search</h2>
                    <form action="#" method="post" name="cse-search-box" role="search">
                        <div class="form-group wb-srch-qry">
                            <label for="wb-srch-q" class="wb-inv">Search Parks Canada</label>
                            <input id="wb-srch-q" list="wb-srch-q-ac" class="wb-srch-q form-control" name="q" type="search" value="" size="34" maxlength="170" placeholder="Search Parks Canada">
                            <datalist id="wb-srch-q-ac"></datalist>
                        </div>
                        <div class="form-group submit">
                            <button type="submit" id="wb-srch-sub" class="btn btn-primary btn-small" name="wb-srch-sub">
                                <span class="glyphicon-search glyphicon"></span>
                                <span class="wb-inv">Search</span>
                            </button>
                        </div>
                    </form>
                </section>
            </div>
        </div>
        <nav id="wb-bc" property="breadcrumb">
            <h2>You are here:</h2>
            <div class="container">
                <ol class="breadcrumb placeholder-content">
                    <li><a href="https://www.canada.ca/en.html">Canada.ca</a></li>
                    <li>Parka's sandbox</li>
                </ol>

            </div>
        </nav>
    </header>
    <!-- End content-en header -->
    <!-- Start main  -->
    <main role="main" property="mainContentOfPage">
        <div class="container mrgn-bttm-xl mrgn-bttm-lg">
            <ul>
                <li>Filter dropdown is filled with the content of ul>li within the column set in data-wb-fieldflow</li>
                <li>"renderas" can be checkbox or radio, or null/missing/default is a drop down list</li>
                <li>"csvextract" makes it pull cell content as CSV. Otherwise it looks for / pulls the listitem in the marked column</li>
                <li>Without a "limit" attribute set, it defaults to needing 10 items before the filter is generated</li>
            </ul>
            <p> <a href="https://wet-boew.github.io/GCWeb/components/wb-fieldflow/fieldflow-doc-en.html">Documentation</a>.</p>
            <div id="location_map" class="wb-geomap geolocation geocoder" data-geomap-zoom="2" data-wb-geomap='{
                    "tables": [{
                        "id": "events",
                        "style": {
                            "type": "symbol",
                            "init": {
                                "pointRadius": 12,
                                "graphicName": "star",
                                "strokeColor": "#FF0000",
                                "fillColor": "#FF0000",
                                "fillOpacity": 0.7
                            }
                        
                            
                        }
                    }]
                }'>
                <div class="wb-geomap-map " id="myGeomap"></div> <!-- Inserted Map End -->
            </div>
            <!-- Inserted Layer Data Start (mandatory) -->
            <div class="wb-geomap-layers col-md-12 wb-inv">
                <table id="addPCLoc" aria-label="[Location name] address" class="table">
                    <caption class="wb-inv">[Location name]</caption>
                    <thead>
                        <tr>
                            <th>Address</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-geometry="POINT (-86.2926568 48.5902892)" data-type="wkt">
                            <td>615 Booth St.,<br />Ottawa (ON),<br />Canada,<br />K1A 0E8</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>Checkbox option</h3>
            <form id="frmEvents">

                <div class="wb-fieldflow" data-wb-fieldflow='{"noForm": true, "unhideelm": "#frmEvents", "srctype":"tblfilter", "source":"#events", "column":1, "defaultselectedlabel": "All the events", "label":"Filter by type of fruit:", "limit": 3, "renderas": "checkbox", "csvextract":true}'>&nbsp;</div>
            </form>
            <table id="events" class="table wb-tables" data-wb-tables='{ "ordering" : "false", "paging": "false" }' aria-describedby="events_info">
                <thead>
                    <tr>
                        <th>Fruit</th>
                        <th>Animal</th>
                        <th>Shape</th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-geometry="POINT (-86.26568 48.5902892)" data-type="wkt">
                        <td>Apple</td>
                        <td>Cat</td>
                        <td>Square</td>
                    </tr>
                    <tr data-geometry="POINT (-86.29268 48.09809)" data-type="wkt">
                        <td>Banana</td>
                        <td>Dog</td>
                        <td>Triangle</td>
                    </tr>
                    <tr data-geometry="POINT (-86.29126 48.14413)" data-type="wkt">
                        <td>Orange</td>
                        <td>Bat</td>
                        <td>Rectangle</td>
                    </tr>
                    <tr data-geometry="POINT (-86.14568 48.9878)" data-type="wkt">
                        <td>Apple</td>
                        <td>Blue whale</td>
                        <td>Circle</td>
                    </tr>

                </tbody>
            </table>
           
            <div class="clearfix"></div>
            <h3 class="mrgn-bttm-lg">Default drop down and only pull li</h3>
            <form id="frmEvents1">

                <div class="wb-fieldflow" data-wb-fieldflow='{"noForm": true, "unhideelm": "#frmEvents1", "srctype":"tblfilter", "source":"#events1", "column":0, "defaultselectedlabel": "All fruit", "label":"Filter by type of fruit:", "limit": 3, "renderas": "" }'>&nbsp;</div>
            </form>
            <table id="events1" class="table wb-tables" data-wb-tables='{ "ordering" : "false", "paging": "false" }' aria-describedby="events_info2">
                <thead>
                    <tr>
                        <th>Fruit</th>
                        <th>Animal</th>
                        <th>Shape</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <p>I wish I had an:
                            <ul>
                                <li>Apple</li>
                        </td>
                        <td>Cat</td>
                        <td>Square</td>
                    </tr>
                    <tr>
                        <td>
                            <p>I could eat a:
                            <ul>
                                <li>Banana</li>
                        </td>
                        <td>Dog</td>
                        <td>Triangle</td>
                    </tr>
                    <tr>
                        <td>
                            <p>I recently bought an:
                            <ul>
                                <li>Orange</li>
                        </td>
                        <td>Bat</td>
                        <td>Rectangle</td>
                    </tr>
                    <tr>
                        <td>
                            <p>I just ate an:
                            <ul>
                                <li>Apple</li>
                        </td>
                        <td>Blue whale</td>
                        <td>Circle</td>
                    </tr>

                </tbody>
            </table>
        </div>
        <!-- End main content -->
    </main>
    <!-- End main -->
    <!-- Footer include -->
    <script src="https://pc-contactweb-pc.github.io/canada/footer.js?2"></script>
    <script>
        (function () {
            document.getElementsByTagName("main")[0].innerHTML += footerHTML;
        })();
    </script>
    <!-- Start Treasury board Script footer -->
    <script src="https://www.canada.ca/etc.clientlibs/clientlibs/granite/jquery.min.js"></script>
    <script src="https://www.canada.ca/etc.clientlibs/clientlibs/granite/utils.min.js"></script>
    <script src="https://www.canada.ca/etc/designs/canada/clientlib-publish.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://wet-boew.github.io/themes-dist/GCWeb/wet-boew/js/wet-boew.min.js"></script>
    <script src="https://wet-boew.github.io/themes-dist/GCWeb/GCWeb/js/theme.min.js"></script>
    <!-- End Treasury board Script footer -->
    <!-- Update geomap on table filter -->
    <script>
       
    </script>

    <!-- Geomap start -->
    <script>
        let myMap = ""
        $(document).on("wb-ready.wb-geomap", "#location_map", function (event, map) {
            let desiredZoom = document.getElementById("location_map").getAttribute("data-geomap-zoom");
            myMap = map;
            myMap.zoomToExtent(myMap.getLayer("#addPCLoc").getDataExtent(), true);
            myMap.getView().setZoom(desiredZoom);
        });
        $( document ).on( "tblfilter.action.wb-fieldflow",  function( event, settings ) {
            var geomap = $( ".wb-geomap" ).get( 0 ).geomap;
            console.log(geomap);
        });
    </script>
   
    <style>
        /* Guidance specific scroll fixer */
        [id] {
            scroll-margin-top: 100px;
        }
    </style>
</body>

</html>